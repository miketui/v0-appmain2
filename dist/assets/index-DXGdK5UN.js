import{r as ca,a as da,g as ma}from"./vendor-CUYz84z8.js";import{r as m,u as Vr,a as fa,L as We,B as pa,R as Na,b as le,N as De,c as ga}from"./router-BxW3MrF-.js";import{a as ba}from"./utils-NIGUFBhG.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(t){if(t.ep)return;t.ep=!0;const c=n(t);fetch(t.href,c)}})();var Ye={exports:{}},Ae={},xr;function xa(){if(xr)return Ae;xr=1;/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){var a=ca(),o=Symbol.for("react.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),b=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),O=Symbol.iterator,W="@@iterator";function z(r){if(r===null||typeof r!="object")return null;var u=O&&r[O]||r[W];return typeof u=="function"?u:null}var d=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function V(r){{for(var u=arguments.length,N=new Array(u>1?u-1:0),D=1;D<u;D++)N[D-1]=arguments[D];R("error",r,N)}}function R(r,u,N){{var D=d.ReactDebugCurrentFrame,F=D.getStackAddendum();F!==""&&(u+="%s",N=N.concat([F]));var L=N.map(function(A){return String(A)});L.unshift("Warning: "+u),Function.prototype.apply.call(console[r],console,L)}}var $=!1,K=!1,Q=!1,se=!1,X=!1,re;re=Symbol.for("react.module.reference");function g(r){return!!(typeof r=="string"||typeof r=="function"||r===l||r===c||X||r===t||r===P||r===x||se||r===E||$||K||Q||typeof r=="object"&&r!==null&&(r.$$typeof===j||r.$$typeof===y||r.$$typeof===s||r.$$typeof===b||r.$$typeof===v||r.$$typeof===re||r.getModuleId!==void 0))}function w(r,u,N){var D=r.displayName;if(D)return D;var F=u.displayName||u.name||"";return F!==""?N+"("+F+")":N}function U(r){return r.displayName||"Context"}function T(r){if(r==null)return null;if(typeof r.tag=="number"&&V("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case l:return"Fragment";case n:return"Portal";case c:return"Profiler";case t:return"StrictMode";case P:return"Suspense";case x:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:var u=r;return U(u)+".Consumer";case s:var N=r;return U(N._context)+".Provider";case v:return w(r,r.render,"ForwardRef");case y:var D=r.displayName||null;return D!==null?D:T(r.type)||"Memo";case j:{var F=r,L=F._payload,A=F._init;try{return T(A(L))}catch{return null}}}return null}var G=Object.assign,Y=0,ne,Ne,f,h,i,p,C;function _(){}_.__reactDisabledLog=!0;function I(){{if(Y===0){ne=console.log,Ne=console.info,f=console.warn,h=console.error,i=console.group,p=console.groupCollapsed,C=console.groupEnd;var r={configurable:!0,enumerable:!0,value:_,writable:!0};Object.defineProperties(console,{info:r,log:r,warn:r,error:r,group:r,groupCollapsed:r,groupEnd:r})}Y++}}function he(){{if(Y--,Y===0){var r={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:G({},r,{value:ne}),info:G({},r,{value:Ne}),warn:G({},r,{value:f}),error:G({},r,{value:h}),group:G({},r,{value:i}),groupCollapsed:G({},r,{value:p}),groupEnd:G({},r,{value:C})})}Y<0&&V("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Me=d.ReactCurrentDispatcher,Oe;function Ve(r,u,N){{if(Oe===void 0)try{throw Error()}catch(F){var D=F.stack.trim().match(/\n( *(at )?)/);Oe=D&&D[1]||""}return`
`+Oe+r}}var ze=!1,we;{var Ir=typeof WeakMap=="function"?WeakMap:Map;we=new Ir}function nr(r,u){if(!r||ze)return"";{var N=we.get(r);if(N!==void 0)return N}var D;ze=!0;var F=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var L;L=Me.current,Me.current=null,I();try{if(u){var A=function(){throw Error()};if(Object.defineProperty(A.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(A,[])}catch(Z){D=Z}Reflect.construct(r,[],A)}else{try{A.call()}catch(Z){D=Z}r.call(A.prototype)}}else{try{throw Error()}catch(Z){D=Z}r()}}catch(Z){if(Z&&D&&typeof Z.stack=="string"){for(var k=Z.stack.split(`
`),J=D.stack.split(`
`),B=k.length-1,q=J.length-1;B>=1&&q>=0&&k[B]!==J[q];)q--;for(;B>=1&&q>=0;B--,q--)if(k[B]!==J[q]){if(B!==1||q!==1)do if(B--,q--,q<0||k[B]!==J[q]){var ee=`
`+k[B].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),typeof r=="function"&&we.set(r,ee),ee}while(B>=1&&q>=0);break}}}finally{ze=!1,Me.current=L,he(),Error.prepareStackTrace=F}var be=r?r.displayName||r.name:"",fe=be?Ve(be):"";return typeof r=="function"&&we.set(r,fe),fe}function Ur(r,u,N){return nr(r,!1)}function Br(r){var u=r.prototype;return!!(u&&u.isReactComponent)}function Ce(r,u,N){if(r==null)return"";if(typeof r=="function")return nr(r,Br(r));if(typeof r=="string")return Ve(r);switch(r){case P:return Ve("Suspense");case x:return Ve("SuspenseList")}if(typeof r=="object")switch(r.$$typeof){case v:return Ur(r.render);case y:return Ce(r.type,u,N);case j:{var D=r,F=D._payload,L=D._init;try{return Ce(L(F),u,N)}catch{}}}return""}var ve=Object.prototype.hasOwnProperty,ir={},tr=d.ReactDebugCurrentFrame;function ke(r){if(r){var u=r._owner,N=Ce(r.type,r._source,u?u.type:null);tr.setExtraStackFrame(N)}else tr.setExtraStackFrame(null)}function qr(r,u,N,D,F){{var L=Function.call.bind(ve);for(var A in r)if(L(r,A)){var k=void 0;try{if(typeof r[A]!="function"){var J=Error((D||"React class")+": "+N+" type `"+A+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof r[A]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw J.name="Invariant Violation",J}k=r[A](u,A,D,N,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(B){k=B}k&&!(k instanceof Error)&&(ke(F),V("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",D||"React class",N,A,typeof k),ke(null)),k instanceof Error&&!(k.message in ir)&&(ir[k.message]=!0,ke(F),V("Failed %s type: %s",N,k.message),ke(null))}}}var Hr=Array.isArray;function $e(r){return Hr(r)}function Wr(r){{var u=typeof Symbol=="function"&&Symbol.toStringTag,N=u&&r[Symbol.toStringTag]||r.constructor.name||"Object";return N}}function Yr(r){try{return lr(r),!1}catch{return!0}}function lr(r){return""+r}function ur(r){if(Yr(r))return V("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Wr(r)),lr(r)}var je=d.ReactCurrentOwner,Gr={key:!0,ref:!0,__self:!0,__source:!0},cr,dr,Ie;Ie={};function Jr(r){if(ve.call(r,"ref")){var u=Object.getOwnPropertyDescriptor(r,"ref").get;if(u&&u.isReactWarning)return!1}return r.ref!==void 0}function Kr(r){if(ve.call(r,"key")){var u=Object.getOwnPropertyDescriptor(r,"key").get;if(u&&u.isReactWarning)return!1}return r.key!==void 0}function Xr(r,u){if(typeof r.ref=="string"&&je.current&&u&&je.current.stateNode!==u){var N=T(je.current.type);Ie[N]||(V('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',T(je.current.type),r.ref),Ie[N]=!0)}}function Zr(r,u){{var N=function(){cr||(cr=!0,V("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",u))};N.isReactWarning=!0,Object.defineProperty(r,"key",{get:N,configurable:!0})}}function Qr(r,u){{var N=function(){dr||(dr=!0,V("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",u))};N.isReactWarning=!0,Object.defineProperty(r,"ref",{get:N,configurable:!0})}}var ea=function(r,u,N,D,F,L,A){var k={$$typeof:o,type:r,key:u,ref:N,props:A,_owner:L};return k._store={},Object.defineProperty(k._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(k,"_self",{configurable:!1,enumerable:!1,writable:!1,value:D}),Object.defineProperty(k,"_source",{configurable:!1,enumerable:!1,writable:!1,value:F}),Object.freeze&&(Object.freeze(k.props),Object.freeze(k)),k};function ra(r,u,N,D,F){{var L,A={},k=null,J=null;N!==void 0&&(ur(N),k=""+N),Kr(u)&&(ur(u.key),k=""+u.key),Jr(u)&&(J=u.ref,Xr(u,F));for(L in u)ve.call(u,L)&&!Gr.hasOwnProperty(L)&&(A[L]=u[L]);if(r&&r.defaultProps){var B=r.defaultProps;for(L in B)A[L]===void 0&&(A[L]=B[L])}if(k||J){var q=typeof r=="function"?r.displayName||r.name||"Unknown":r;k&&Zr(A,q),J&&Qr(A,q)}return ea(r,k,J,F,D,je.current,A)}}var Ue=d.ReactCurrentOwner,mr=d.ReactDebugCurrentFrame;function ge(r){if(r){var u=r._owner,N=Ce(r.type,r._source,u?u.type:null);mr.setExtraStackFrame(N)}else mr.setExtraStackFrame(null)}var Be;Be=!1;function qe(r){return typeof r=="object"&&r!==null&&r.$$typeof===o}function fr(){{if(Ue.current){var r=T(Ue.current.type);if(r)return`

Check the render method of \``+r+"`."}return""}}function aa(r){{if(r!==void 0){var u=r.fileName.replace(/^.*[\\\/]/,""),N=r.lineNumber;return`

Check your code at `+u+":"+N+"."}return""}}var pr={};function oa(r){{var u=fr();if(!u){var N=typeof r=="string"?r:r.displayName||r.name;N&&(u=`

Check the top-level render call using <`+N+">.")}return u}}function Nr(r,u){{if(!r._store||r._store.validated||r.key!=null)return;r._store.validated=!0;var N=oa(u);if(pr[N])return;pr[N]=!0;var D="";r&&r._owner&&r._owner!==Ue.current&&(D=" It was passed a child from "+T(r._owner.type)+"."),ge(r),V('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',N,D),ge(null)}}function gr(r,u){{if(typeof r!="object")return;if($e(r))for(var N=0;N<r.length;N++){var D=r[N];qe(D)&&Nr(D,u)}else if(qe(r))r._store&&(r._store.validated=!0);else if(r){var F=z(r);if(typeof F=="function"&&F!==r.entries)for(var L=F.call(r),A;!(A=L.next()).done;)qe(A.value)&&Nr(A.value,u)}}}function sa(r){{var u=r.type;if(u==null||typeof u=="string")return;var N;if(typeof u=="function")N=u.propTypes;else if(typeof u=="object"&&(u.$$typeof===v||u.$$typeof===y))N=u.propTypes;else return;if(N){var D=T(u);qr(N,r.props,"prop",D,r)}else if(u.PropTypes!==void 0&&!Be){Be=!0;var F=T(u);V("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",F||"Unknown")}typeof u.getDefaultProps=="function"&&!u.getDefaultProps.isReactClassApproved&&V("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function na(r){{for(var u=Object.keys(r.props),N=0;N<u.length;N++){var D=u[N];if(D!=="children"&&D!=="key"){ge(r),V("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",D),ge(null);break}}r.ref!==null&&(ge(r),V("Invalid attribute `ref` supplied to `React.Fragment`."),ge(null))}}var br={};function ia(r,u,N,D,F,L){{var A=g(r);if(!A){var k="";(r===void 0||typeof r=="object"&&r!==null&&Object.keys(r).length===0)&&(k+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var J=aa(F);J?k+=J:k+=fr();var B;r===null?B="null":$e(r)?B="array":r!==void 0&&r.$$typeof===o?(B="<"+(T(r.type)||"Unknown")+" />",k=" Did you accidentally export a JSX literal instead of a component?"):B=typeof r,V("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",B,k)}var q=ra(r,u,N,F,L);if(q==null)return q;if(A){var ee=u.children;if(ee!==void 0)if(D)if($e(ee)){for(var be=0;be<ee.length;be++)gr(ee[be],r);Object.freeze&&Object.freeze(ee)}else V("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else gr(ee,r)}if(ve.call(u,"key")){var fe=T(r),Z=Object.keys(u).filter(function(ua){return ua!=="key"}),He=Z.length>0?"{key: someKey, "+Z.join(": ..., ")+": ...}":"{key: someKey}";if(!br[fe+He]){var la=Z.length>0?"{"+Z.join(": ..., ")+": ...}":"{}";V(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,He,fe,la,fe),br[fe+He]=!0}}return r===l?na(q):sa(q),q}}var ta=ia;Ae.Fragment=l,Ae.jsxDEV=ta})(),Ae}var hr;function ha(){return hr||(hr=1,Ye.exports=xa()),Ye.exports}var e=ha(),_e={},vr;function va(){if(vr)return _e;vr=1;var a=da();{var o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;_e.createRoot=function(n,l){o.usingClientEntryPoint=!0;try{return a.createRoot(n,l)}finally{o.usingClientEntryPoint=!1}},_e.hydrateRoot=function(n,l,t){o.usingClientEntryPoint=!0;try{return a.hydrateRoot(n,l,t)}finally{o.usingClientEntryPoint=!1}}}return _e}var ja=va();const ya=ma(ja);let Da={data:""},Ea=a=>typeof window=="object"?((a?a.querySelector("#_goober"):window._goober)||Object.assign((a||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:a||Da,Pa=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Va=/\/\*[^]*?\*\/|  +/g,jr=/\n+/g,ue=(a,o)=>{let n="",l="",t="";for(let c in a){let s=a[c];c[0]=="@"?c[1]=="i"?n=c+" "+s+";":l+=c[1]=="f"?ue(s,c):c+"{"+ue(s,c[1]=="k"?"":o)+"}":typeof s=="object"?l+=ue(s,o?o.replace(/([^,])+/g,b=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,v=>/&/.test(v)?v.replace(/&/g,b):b?b+" "+v:v)):c):s!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),t+=ue.p?ue.p(c,s):c+":"+s+";")}return n+(o&&t?o+"{"+t+"}":t)+l},ie={},wr=a=>{if(typeof a=="object"){let o="";for(let n in a)o+=n+wr(a[n]);return o}return a},wa=(a,o,n,l,t)=>{let c=wr(a),s=ie[c]||(ie[c]=(v=>{let P=0,x=11;for(;P<v.length;)x=101*x+v.charCodeAt(P++)>>>0;return"go"+x})(c));if(!ie[s]){let v=c!==a?a:(P=>{let x,y,j=[{}];for(;x=Pa.exec(P.replace(Va,""));)x[4]?j.shift():x[3]?(y=x[3].replace(jr," ").trim(),j.unshift(j[0][y]=j[0][y]||{})):j[0][x[1]]=x[2].replace(jr," ").trim();return j[0]})(a);ie[s]=ue(t?{["@keyframes "+s]:v}:v,n?"":"."+s)}let b=n&&ie.g?ie.g:null;return n&&(ie.g=ie[s]),((v,P,x,y)=>{y?P.data=P.data.replace(y,v):P.data.indexOf(v)===-1&&(P.data=x?v+P.data:P.data+v)})(ie[s],o,l,b),s},Ca=(a,o,n)=>a.reduce((l,t,c)=>{let s=o[c];if(s&&s.call){let b=s(n),v=b&&b.props&&b.props.className||/^go/.test(b)&&b;s=v?"."+v:b&&typeof b=="object"?b.props?"":ue(b,""):b===!1?"":b}return l+t+(s??"")},"");function Le(a){let o=this||{},n=a.call?a(o.p):a;return wa(n.unshift?n.raw?Ca(n,[].slice.call(arguments,1),o.p):n.reduce((l,t)=>Object.assign(l,t&&t.call?t(o.p):t),{}):n,Ea(o.target),o.g,o.o,o.k)}let Cr,Ge,Je;Le.bind({g:1});let te=Le.bind({k:1});function ka(a,o,n,l){ue.p=o,Cr=a,Ge=n,Je=l}function me(a,o){let n=this||{};return function(){let l=arguments;function t(c,s){let b=Object.assign({},c),v=b.className||t.className;n.p=Object.assign({theme:Ge&&Ge()},b),n.o=/ *go\d+/.test(v),b.className=Le.apply(n,l)+(v?" "+v:"");let P=a;return a[0]&&(P=b.as||a,delete b.as),Je&&P[0]&&Je(b),Cr(P,b)}return t}}var Aa=a=>typeof a=="function",Re=(a,o)=>Aa(a)?a(o):a,_a=(()=>{let a=0;return()=>(++a).toString()})(),kr=(()=>{let a;return()=>{if(a===void 0&&typeof window<"u"){let o=matchMedia("(prefers-reduced-motion: reduce)");a=!o||o.matches}return a}})(),Fa=20,rr="default",Ar=(a,o)=>{let{toastLimit:n}=a.settings;switch(o.type){case 0:return{...a,toasts:[o.toast,...a.toasts].slice(0,n)};case 1:return{...a,toasts:a.toasts.map(s=>s.id===o.toast.id?{...s,...o.toast}:s)};case 2:let{toast:l}=o;return Ar(a,{type:a.toasts.find(s=>s.id===l.id)?1:0,toast:l});case 3:let{toastId:t}=o;return{...a,toasts:a.toasts.map(s=>s.id===t||t===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return o.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(s=>s.id!==o.toastId)};case 5:return{...a,pausedAt:o.time};case 6:let c=o.time-(a.pausedAt||0);return{...a,pausedAt:void 0,toasts:a.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+c}))}}},Se=[],_r={toasts:[],pausedAt:void 0,settings:{toastLimit:Fa}},ae={},Fr=(a,o=rr)=>{ae[o]=Ar(ae[o]||_r,a),Se.forEach(([n,l])=>{n===o&&l(ae[o])})},Sr=a=>Object.keys(ae).forEach(o=>Fr(a,o)),Sa=a=>Object.keys(ae).find(o=>ae[o].toasts.some(n=>n.id===a)),Te=(a=rr)=>o=>{Fr(o,a)},Ra={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},La=(a={},o=rr)=>{let[n,l]=m.useState(ae[o]||_r),t=m.useRef(ae[o]);m.useEffect(()=>(t.current!==ae[o]&&l(ae[o]),Se.push([o,l]),()=>{let s=Se.findIndex(([b])=>b===o);s>-1&&Se.splice(s,1)}),[o]);let c=n.toasts.map(s=>{var b,v,P;return{...a,...a[s.type],...s,removeDelay:s.removeDelay||((b=a[s.type])==null?void 0:b.removeDelay)||a?.removeDelay,duration:s.duration||((v=a[s.type])==null?void 0:v.duration)||a?.duration||Ra[s.type],style:{...a.style,...(P=a[s.type])==null?void 0:P.style,...s.style}}});return{...n,toasts:c}},Ta=(a,o="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:o,ariaProps:{role:"status","aria-live":"polite"},message:a,pauseDuration:0,...n,id:n?.id||_a()}),Pe=a=>(o,n)=>{let l=Ta(o,a,n);return Te(l.toasterId||Sa(l.id))({type:2,toast:l}),l.id},H=(a,o)=>Pe("blank")(a,o);H.error=Pe("error");H.success=Pe("success");H.loading=Pe("loading");H.custom=Pe("custom");H.dismiss=(a,o)=>{let n={type:3,toastId:a};o?Te(o)(n):Sr(n)};H.dismissAll=a=>H.dismiss(void 0,a);H.remove=(a,o)=>{let n={type:4,toastId:a};o?Te(o)(n):Sr(n)};H.removeAll=a=>H.remove(void 0,a);H.promise=(a,o,n)=>{let l=H.loading(o.loading,{...n,...n?.loading});return typeof a=="function"&&(a=a()),a.then(t=>{let c=o.success?Re(o.success,t):void 0;return c?H.success(c,{id:l,...n,...n?.success}):H.dismiss(l),t}).catch(t=>{let c=o.error?Re(o.error,t):void 0;c?H.error(c,{id:l,...n,...n?.error}):H.dismiss(l)}),a};var Ma=1e3,Oa=(a,o="default")=>{let{toasts:n,pausedAt:l}=La(a,o),t=m.useRef(new Map).current,c=m.useCallback((y,j=Ma)=>{if(t.has(y))return;let E=setTimeout(()=>{t.delete(y),s({type:4,toastId:y})},j);t.set(y,E)},[]);m.useEffect(()=>{if(l)return;let y=Date.now(),j=n.map(E=>{if(E.duration===1/0)return;let O=(E.duration||0)+E.pauseDuration-(y-E.createdAt);if(O<0){E.visible&&H.dismiss(E.id);return}return setTimeout(()=>H.dismiss(E.id,o),O)});return()=>{j.forEach(E=>E&&clearTimeout(E))}},[n,l,o]);let s=m.useCallback(Te(o),[o]),b=m.useCallback(()=>{s({type:5,time:Date.now()})},[s]),v=m.useCallback((y,j)=>{s({type:1,toast:{id:y,height:j}})},[s]),P=m.useCallback(()=>{l&&s({type:6,time:Date.now()})},[l,s]),x=m.useCallback((y,j)=>{let{reverseOrder:E=!1,gutter:O=8,defaultPosition:W}=j||{},z=n.filter(R=>(R.position||W)===(y.position||W)&&R.height),d=z.findIndex(R=>R.id===y.id),V=z.filter((R,$)=>$<d&&R.visible).length;return z.filter(R=>R.visible).slice(...E?[V+1]:[0,V]).reduce((R,$)=>R+($.height||0)+O,0)},[n]);return m.useEffect(()=>{n.forEach(y=>{if(y.dismissed)c(y.id,y.removeDelay);else{let j=t.get(y.id);j&&(clearTimeout(j),t.delete(y.id))}})},[n,c]),{toasts:n,handlers:{updateHeight:v,startPause:b,endPause:P,calculateOffset:x}}},za=te`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$a=te`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ia=te`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ua=me("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${za} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$a} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${a=>a.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ia} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Ba=te`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qa=me("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${a=>a.secondary||"#e0e0e0"};
  border-right-color: ${a=>a.primary||"#616161"};
  animation: ${Ba} 1s linear infinite;
`,Ha=te`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Wa=te`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ya=me("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ha} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Wa} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${a=>a.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ga=me("div")`
  position: absolute;
`,Ja=me("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ka=te`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Xa=me("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ka} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Za=({toast:a})=>{let{icon:o,type:n,iconTheme:l}=a;return o!==void 0?typeof o=="string"?m.createElement(Xa,null,o):o:n==="blank"?null:m.createElement(Ja,null,m.createElement(qa,{...l}),n!=="loading"&&m.createElement(Ga,null,n==="error"?m.createElement(Ua,{...l}):m.createElement(Ya,{...l})))},Qa=a=>`
0% {transform: translate3d(0,${a*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,eo=a=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${a*-150}%,-1px) scale(.6); opacity:0;}
`,ro="0%{opacity:0;} 100%{opacity:1;}",ao="0%{opacity:1;} 100%{opacity:0;}",oo=me("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,so=me("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,no=(a,o)=>{let n=a.includes("top")?1:-1,[l,t]=kr()?[ro,ao]:[Qa(n),eo(n)];return{animation:o?`${te(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${te(t)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},io=m.memo(({toast:a,position:o,style:n,children:l})=>{let t=a.height?no(a.position||o||"top-center",a.visible):{opacity:0},c=m.createElement(Za,{toast:a}),s=m.createElement(so,{...a.ariaProps},Re(a.message,a));return m.createElement(oo,{className:a.className,style:{...t,...n,...a.style}},typeof l=="function"?l({icon:c,message:s}):m.createElement(m.Fragment,null,c,s))});ka(m.createElement);var to=({id:a,className:o,style:n,onHeightUpdate:l,children:t})=>{let c=m.useCallback(s=>{if(s){let b=()=>{let v=s.getBoundingClientRect().height;l(a,v)};b(),new MutationObserver(b).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[a,l]);return m.createElement("div",{ref:c,className:o,style:n},t)},lo=(a,o)=>{let n=a.includes("top"),l=n?{top:0}:{bottom:0},t=a.includes("center")?{justifyContent:"center"}:a.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:kr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${o*(n?1:-1)}px)`,...l,...t}},uo=Le`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Fe=16,co=({reverseOrder:a,position:o="top-center",toastOptions:n,gutter:l,children:t,toasterId:c,containerStyle:s,containerClassName:b})=>{let{toasts:v,handlers:P}=Oa(n,c);return m.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:Fe,left:Fe,right:Fe,bottom:Fe,pointerEvents:"none",...s},className:b,onMouseEnter:P.startPause,onMouseLeave:P.endPause},v.map(x=>{let y=x.position||o,j=P.calculateOffset(x,{reverseOrder:a,gutter:l,defaultPosition:o}),E=lo(y,j);return m.createElement(to,{id:x.id,key:x.id,onHeightUpdate:P.updateHeight,className:x.visible?uo:"",style:E},x.type==="custom"?Re(x.message,x):t?t(x):m.createElement(io,{toast:x,position:y}))}))},M=H;const Ke=ba.create({baseURL:import.meta.env.NEXT_PUBLIC_API_URL||"http://localhost:3000/api"});Ke.interceptors.request.use(a=>{const o=localStorage.getItem("token");return o&&(a.headers.Authorization=`Bearer ${o}`),a});const Rr=m.createContext();function mo({children:a}){const[o,n]=m.useState(null),[l,t]=m.useState(null),[c,s]=m.useState(!1),[b,v]=m.useState(!0);m.useEffect(()=>{localStorage.getItem("token")?Ke.get("/auth/profile").then(E=>{n(E.data.user),t(E.data.profile)}).finally(()=>v(!1)):v(!1)},[]);const y={user:o,userProfile:l,loading:c,initializing:b,login:async j=>{s(!0);try{await Ke.post("/auth/login",{email:j}),M.success("Check your email for the login link!")}catch(E){M.error(E.response?.data?.error||"An error occurred")}finally{s(!1)}},signOut:()=>{localStorage.removeItem("token"),n(null),t(null)},hasRole:j=>l?Array.isArray(j)?j.includes(l.role):l.role===j:!1,isAdmin:()=>l?.role==="Admin",isLeaderOrAdmin:()=>["Leader","Admin"].includes(l?.role),isMemberOrAbove:()=>["Member","Leader","Admin"].includes(l?.role)};return e.jsxDEV(Rr.Provider,{value:y,children:a},void 0,!1,{fileName:"/root/repo/src/context/AuthContext.jsx",lineNumber:73,columnNumber:5},this)}function oe(){const a=m.useContext(Rr);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lr=(...a)=>a.filter((o,n,l)=>!!o&&o.trim()!==""&&l.indexOf(o)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var po={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=m.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:t="",children:c,iconNode:s,...b},v)=>m.createElement("svg",{ref:v,...po,width:o,height:o,stroke:a,strokeWidth:l?Number(n)*24/Number(o):n,className:Lr("lucide",t),...b},[...s.map(([P,x])=>m.createElement(P,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=(a,o)=>{const n=m.forwardRef(({className:l,...t},c)=>m.createElement(No,{ref:c,iconNode:o,className:Lr(`lucide-${fo(a)}`,l),...t}));return n.displayName=`${a}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=S("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=S("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=S("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=S("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=S("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=S("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=S("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=S("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=S("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=S("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=S("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=S("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=S("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=S("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=S("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=S("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=S("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=S("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=S("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=S("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=S("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=S("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=S("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=S("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=S("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=S("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=S("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=S("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=S("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=S("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vo=()=>{const[a,o]=m.useState(""),{login:n,loading:l}=oe(),[t,c]=m.useState(!1),s=async b=>{b.preventDefault(),!(!a||l)&&(await n(a),c(!0))};return t?e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center px-4",children:e.jsxDEV("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[e.jsxDEV("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsxDEV(Ze,{className:"w-8 h-8 text-green-600"},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:24,columnNumber:13},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:23,columnNumber:11},void 0),e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Check Your Email"},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:26,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-600 mb-6",children:["We've sent a magic link to ",e.jsxDEV("strong",{children:a},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:28,columnNumber:40},void 0),". Click the link in your email to complete your sign-in."]},void 0,!0,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:27,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500",children:[e.jsxDEV("p",{children:"Didn't receive the email? Check your spam folder or"},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:32,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>c(!1),className:"text-blue-600 hover:text-blue-700 font-medium",children:"try again"},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:33,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:31,columnNumber:11},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:22,columnNumber:9},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:21,columnNumber:7},void 0):e.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center px-4",children:e.jsxDEV("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to"},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:49,columnNumber:11},void 0),e.jsxDEV("h2",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-4",children:"Haus of Basquiat"},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:50,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-600",children:"Enter your email to sign in or apply for membership"},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:53,columnNumber:11},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:48,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:s,className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:60,columnNumber:13},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsxDEV(jo,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:65,columnNumber:17},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:64,columnNumber:15},void 0),e.jsxDEV("input",{id:"email",type:"email",required:!0,value:a,onChange:b=>o(b.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"your@email.com",disabled:l},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:67,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:63,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:59,columnNumber:11},void 0),e.jsxDEV("button",{type:"submit",disabled:l||!a,className:"w-full py-3 px-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-medium rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsxDEV("span",{children:l?"Processing...":"Continue"},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:85,columnNumber:13},void 0),!l&&e.jsxDEV(Xe,{size:16},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:86,columnNumber:26},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:80,columnNumber:11},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:58,columnNumber:9},void 0),e.jsxDEV("div",{className:"mt-8 text-center text-sm text-gray-500",children:e.jsxDEV("p",{children:["By continuing, you agree to our community guidelines and",e.jsxDEV("br",{},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:93,columnNumber:13},void 0),"commitment to creating a safe, inclusive space."]},void 0,!0,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:91,columnNumber:11},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:90,columnNumber:9},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:47,columnNumber:7},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/LoginPage.jsx",lineNumber:46,columnNumber:5},void 0)},wo=()=>{const a=Vr(),{userProfile:o}=oe(),[n,l]=m.useState(1),[t,c]=m.useState(!1),[s,b]=m.useState({displayName:o?.display_name||"",pronouns:o?.pronouns||"",dateOfBirth:o?.date_of_birth||"",phone:o?.phone||"",bio:o?.bio||"",ballroomExperience:o?.ballroom_experience||"",categories:[],houses:"",achievements:"",whyJoin:"",contribution:"",references:"",socialLinks:o?.social_links||{},codeOfConduct:!1,communityGuidelines:!1,dataProcessing:!1}),v=[{number:1,title:"Personal Info",icon:sr},{number:2,title:"Ballroom Experience",icon:Or},{number:3,title:"Community",icon:Ee},{number:4,title:"Review",icon:Ze}],P=["Voguing","Runway","Fashion","Performance","Realness","Butch Queen","Femme Queen","Butch","House Parent","Commentary"],x=(d,V)=>{b(R=>({...R,[d]:V}))},y=d=>{b(V=>({...V,categories:V.categories.includes(d)?V.categories.filter(R=>R!==d):[...V.categories,d]}))},j=d=>{switch(d){case 1:return s.displayName&&s.pronouns&&s.dateOfBirth;case 2:return s.ballroomExperience&&s.categories.length>0;case 3:return s.whyJoin&&s.contribution;case 4:return s.codeOfConduct&&s.communityGuidelines&&s.dataProcessing;default:return!1}},E=()=>{j(n)?l(d=>Math.min(d+1,4)):M.error("Please fill in all required fields")},O=()=>{l(d=>Math.max(d-1,1))},W=async()=>{if(!j(4)){M.error("Please complete all required fields and agreements");return}c(!0);try{const d=await fetch("/api/auth/apply",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({applicantData:s})});if(d.ok)M.success("Application submitted successfully!"),a("/");else{const V=await d.json();M.error(V.message||"Failed to submit application")}}catch(d){console.error("Application error:",d),M.error("An error occurred while submitting your application")}finally{c(!1)}},z=()=>{switch(n){case 1:return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:132,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name *"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:136,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:s.displayName,onChange:d=>x("displayName",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"How you'd like to be known in the community"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:139,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:135,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pronouns *"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:149,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:s.pronouns,onChange:d=>x("pronouns",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., she/her, he/him, they/them"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:152,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:148,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth *"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:162,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:s.dateOfBirth,onChange:d=>x("dateOfBirth",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:165,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:161,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:174,columnNumber:17},void 0),e.jsxDEV("input",{type:"tel",value:s.phone,onChange:d=>x("phone",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"For emergency contact"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:177,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:173,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:134,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:188,columnNumber:15},void 0),e.jsxDEV("textarea",{value:s.bio,onChange:d=>x("bio",d.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"Tell us a bit about yourself..."},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:191,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:131,columnNumber:11},void 0);case 2:return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Ballroom Experience"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:205,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience Level *"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:208,columnNumber:15},void 0),e.jsxDEV("select",{value:s.ballroomExperience,onChange:d=>x("ballroomExperience",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",children:[e.jsxDEV("option",{value:"",children:"Select your experience level"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:216,columnNumber:17},void 0),e.jsxDEV("option",{value:"New",children:"New to the scene"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:217,columnNumber:17},void 0),e.jsxDEV("option",{value:"Beginner",children:"Beginner (less than 1 year)"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:218,columnNumber:17},void 0),e.jsxDEV("option",{value:"Intermediate",children:"Intermediate (1-3 years)"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:219,columnNumber:17},void 0),e.jsxDEV("option",{value:"Advanced",children:"Advanced (3-5 years)"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:220,columnNumber:17},void 0),e.jsxDEV("option",{value:"Veteran",children:"Veteran (5+ years)"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:221,columnNumber:17},void 0),e.jsxDEV("option",{value:"Legendary",children:"Legendary"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:222,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:211,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:207,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categories of Interest *"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:227,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:P.map(d=>e.jsxDEV("label",{className:"flex items-center space-x-2",children:[e.jsxDEV("input",{type:"checkbox",checked:s.categories.includes(d),onChange:()=>y(d),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:233,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm text-gray-700",children:d},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:239,columnNumber:21},void 0)]},d,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:232,columnNumber:19},void 0))},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:230,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:226,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"House Affiliations"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:246,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:s.houses,onChange:d=>x("houses",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"Any current or past house affiliations"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:249,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:245,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Achievements & Trophies"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:259,columnNumber:15},void 0),e.jsxDEV("textarea",{value:s.achievements,onChange:d=>x("achievements",d.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"Any notable achievements, trophies, or recognitions..."},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:262,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:258,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:204,columnNumber:11},void 0);case 3:return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Community Involvement"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:276,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Why do you want to join Haus of Basquiat? *"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:279,columnNumber:15},void 0),e.jsxDEV("textarea",{value:s.whyJoin,onChange:d=>x("whyJoin",d.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"Share your motivation and what draws you to our community..."},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:282,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:278,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How will you contribute to the community? *"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:292,columnNumber:15},void 0),e.jsxDEV("textarea",{value:s.contribution,onChange:d=>x("contribution",d.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"What skills, talents, or energy will you bring to the community..."},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:295,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:291,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"References"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:305,columnNumber:15},void 0),e.jsxDEV("textarea",{value:s.references,onChange:d=>x("references",d.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"Any community members who can vouch for you (optional)..."},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:308,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:304,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:275,columnNumber:11},void 0);case 4:return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Review & Agreement"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:322,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900 mb-4",children:"Application Summary"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:325,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Name:"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:327,columnNumber:20},void 0)," ",s.displayName]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:327,columnNumber:17},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Pronouns:"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:328,columnNumber:20},void 0)," ",s.pronouns]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:328,columnNumber:17},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Experience:"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:329,columnNumber:20},void 0)," ",s.ballroomExperience]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:329,columnNumber:17},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Categories:"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:330,columnNumber:20},void 0)," ",s.categories.join(", ")]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:330,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:326,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:324,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("label",{className:"flex items-start space-x-3",children:[e.jsxDEV("input",{type:"checkbox",checked:s.codeOfConduct,onChange:d=>x("codeOfConduct",d.target.checked),className:"mt-1 rounded border-gray-300 text-purple-600 focus:ring-purple-500"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:336,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm text-gray-700",children:"I agree to abide by the community code of conduct and maintain a safe, inclusive environment for all members *"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:342,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:335,columnNumber:15},void 0),e.jsxDEV("label",{className:"flex items-start space-x-3",children:[e.jsxDEV("input",{type:"checkbox",checked:s.communityGuidelines,onChange:d=>x("communityGuidelines",d.target.checked),className:"mt-1 rounded border-gray-300 text-purple-600 focus:ring-purple-500"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:348,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm text-gray-700",children:"I have read and agree to follow the community guidelines and house rules *"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:354,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:347,columnNumber:15},void 0),e.jsxDEV("label",{className:"flex items-start space-x-3",children:[e.jsxDEV("input",{type:"checkbox",checked:s.dataProcessing,onChange:d=>x("dataProcessing",d.target.checked),className:"mt-1 rounded border-gray-300 text-purple-600 focus:ring-purple-500"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:360,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm text-gray-700",children:"I consent to the processing of my personal data for membership purposes *"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:366,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:359,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:334,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:321,columnNumber:11},void 0);default:return null}};return e.jsxDEV("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxDEV("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Membership Application"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:384,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-600",children:"Join the Haus of Basquiat community"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:385,columnNumber:11},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:383,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-center mb-8",children:e.jsxDEV("div",{className:"flex space-x-4",children:v.map(d=>{const V=d.icon,R=n===d.number,$=n>d.number;return e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${R?"border-purple-600 bg-purple-600 text-white":$?"border-green-600 bg-green-600 text-white":"border-gray-300 bg-gray-100 text-gray-400"}`,children:e.jsxDEV(V,{size:20},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:403,columnNumber:21},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:398,columnNumber:19},void 0),e.jsxDEV("span",{className:`ml-2 text-sm font-medium ${R?"text-purple-600":$?"text-green-600":"text-gray-400"}`,children:d.title},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:405,columnNumber:19},void 0),d.number<v.length&&e.jsxDEV(Xe,{className:"mx-4 text-gray-300",size:16},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:413,columnNumber:21},void 0)]},d.number,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:397,columnNumber:17},void 0)})},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:390,columnNumber:11},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:389,columnNumber:9},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-8",children:z()},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:422,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("button",{onClick:O,disabled:n===1,className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium ${n===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[e.jsxDEV(Tr,{size:16},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:437,columnNumber:13},void 0),e.jsxDEV("span",{children:"Previous"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:438,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:428,columnNumber:11},void 0),n<4?e.jsxDEV("button",{onClick:E,className:"flex items-center space-x-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700",children:[e.jsxDEV("span",{children:"Next"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:446,columnNumber:15},void 0),e.jsxDEV(Xe,{size:16},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:447,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:442,columnNumber:13},void 0):e.jsxDEV("button",{onClick:W,disabled:t,className:"flex items-center space-x-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 disabled:opacity-50",children:[e.jsxDEV("span",{children:t?"Submitting...":"Submit Application"},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:455,columnNumber:15},void 0),e.jsxDEV(Ze,{size:16},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:456,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:450,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:427,columnNumber:9},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:381,columnNumber:7},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ApplicationPage.jsx",lineNumber:380,columnNumber:5},void 0)},de=({size:a="md",text:o="Loading..."})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"};return e.jsxDEV("div",{className:"flex flex-col items-center justify-center min-h-[200px] space-y-4",children:[e.jsxDEV("div",{className:`animate-spin rounded-full border-4 border-gray-300 border-t-blue-600 ${n[a]}`},void 0,!1,{fileName:"/root/repo/src/components/LoadingSpinner.jsx",lineNumber:13,columnNumber:7},void 0),o&&e.jsxDEV("p",{className:"text-gray-600 text-sm",children:o},void 0,!1,{fileName:"/root/repo/src/components/LoadingSpinner.jsx",lineNumber:14,columnNumber:16},void 0)]},void 0,!0,{fileName:"/root/repo/src/components/LoadingSpinner.jsx",lineNumber:12,columnNumber:5},void 0)},Co=()=>{const{userProfile:a,supabase:o,isMemberOrAbove:n}=oe(),[l,t]=m.useState([]),[c,s]=m.useState(!0),[b,v]=m.useState(!1),[P,x]=m.useState(!1),[y,j]=m.useState("all"),[E,O]=m.useState({content:"",visibility:"public",media:[]}),[W,z]=m.useState([]),[d,V]=m.useState({}),[R,$]=m.useState({}),[K,Q]=m.useState({}),se=m.useRef(null),X=async(f=1)=>{try{const h=(await o.auth.getSession()).data.session?.access_token,i=new URLSearchParams({page:f.toString(),limit:"10",...y==="house"&&{houseOnly:"true"}}),p=await fetch(`/api/posts?${i}`,{headers:{Authorization:`Bearer ${h}`}});if(!p.ok)throw new Error("Failed to fetch posts");const C=await p.json();t(f===1?C.posts:_=>[..._,...C.posts])}catch(h){console.error("Error fetching posts:",h),M.error("Failed to load posts")}},re=async()=>{if(!E.content.trim()&&W.length===0){M.error("Please add some content or media to your post");return}v(!0);try{const f=(await o.auth.getSession()).data.session?.access_token,h=new FormData;h.append("content",E.content),h.append("visibility",E.visibility),a.house_id&&h.append("houseId",a.house_id),W.forEach(C=>{h.append("media",C)});const i=await fetch("/api/posts",{method:"POST",headers:{Authorization:`Bearer ${f}`},body:h});if(!i.ok){const C=await i.json();throw new Error(C.error||"Failed to create post")}const p=await i.json();t(C=>[p.post,...C]),O({content:"",visibility:"public",media:[]}),z([]),x(!1),M.success("Post created successfully!")}catch(f){console.error("Error creating post:",f),M.error(f.message)}finally{v(!1)}},g=async f=>{try{const h=(await o.auth.getSession()).data.session?.access_token,i=await fetch(`/api/posts/${f}/like`,{method:"POST",headers:{Authorization:`Bearer ${h}`}});if(!i.ok)throw new Error("Failed to toggle like");const p=await i.json();t(C=>C.map(_=>_.id===f?{..._,user_liked:p.liked,likes_count:p.liked?_.likes_count+1:_.likes_count-1}:_))}catch(h){console.error("Error toggling like:",h),M.error("Failed to update like")}},w=async f=>{try{const h=(await o.auth.getSession()).data.session?.access_token,i=await fetch(`/api/posts/${f}/comments`,{headers:{Authorization:`Bearer ${h}`}});if(!i.ok)throw new Error("Failed to fetch comments");const p=await i.json();Q(C=>({...C,[f]:p.comments}))}catch(h){console.error("Error fetching comments:",h),M.error("Failed to load comments")}},U=async f=>{const h=d[f];if(!(!h||!h.trim()))try{const i=(await o.auth.getSession()).data.session?.access_token,p=await fetch(`/api/posts/${f}/comments`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({content:h.trim()})});if(!p.ok){const _=await p.json();throw new Error(_.error||"Failed to add comment")}const C=await p.json();Q(_=>({..._,[f]:[..._[f]||[],C.comment]})),t(_=>_.map(I=>I.id===f?{...I,comments_count:I.comments_count+1}:I)),V(_=>({..._,[f]:""}))}catch(i){console.error("Error adding comment:",i),M.error(i.message)}},T=f=>{const i=Array.from(f.target.files).filter(p=>p.size>10*1024*1024?(M.error(`${p.name} is too large. Maximum size is 10MB.`),!1):!0);z(p=>[...p,...i].slice(0,5))},G=f=>{z(h=>h.filter((i,p)=>p!==f))},Y=f=>{$(h=>({...h,[f]:!h[f]})),K[f]||w(f)},ne=f=>{const h=new Date(f),p=new Date-h;return p<6e4?"just now":p<36e5?`${Math.floor(p/6e4)}m ago`:p<864e5?`${Math.floor(p/36e5)}h ago`:p<6048e5?`${Math.floor(p/864e5)}d ago`:h.toLocaleDateString()},Ne=f=>{switch(f){case"house_only":return e.jsxDEV(ce,{size:14,className:"text-gray-500"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:275,columnNumber:16},void 0);case"members_only":return e.jsxDEV(ce,{size:14,className:"text-blue-500"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:277,columnNumber:16},void 0);default:return e.jsxDEV(Dr,{size:14,className:"text-green-500"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:279,columnNumber:16},void 0)}};return m.useEffect(()=>{(async()=>{s(!0),await X(1),s(!1)})()},[y]),c?e.jsxDEV(de,{text:"Loading community feed..."},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:295,columnNumber:12},void 0):e.jsxDEV("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:"Community Feed"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:303,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",a?.display_name||"Member","! Share your journey with the community."]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:304,columnNumber:11},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:302,columnNumber:9},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:301,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV("button",{onClick:()=>j("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y==="all"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[e.jsxDEV(Dr,{size:16,className:"inline mr-2"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:322,columnNumber:15},void 0),"All Posts"]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:314,columnNumber:13},void 0),a?.house_id&&e.jsxDEV("button",{onClick:()=>j("house"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y==="house"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[e.jsxDEV(ce,{size:16,className:"inline mr-2"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:335,columnNumber:17},void 0),"My House"]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:327,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:313,columnNumber:11},void 0),n()&&e.jsxDEV("button",{onClick:()=>x(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsxDEV(or,{size:16},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:346,columnNumber:15},void 0),e.jsxDEV("span",{children:"New Post"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:347,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:342,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:312,columnNumber:9},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:311,columnNumber:7},void 0),e.jsxDEV("div",{className:"space-y-6",children:l.length===0?e.jsxDEV("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border",children:[e.jsxDEV(xe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:357,columnNumber:13},void 0),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No posts yet"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:358,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-gray-600 mb-4",children:"Be the first to share something with the community!"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:359,columnNumber:13},void 0),n()&&e.jsxDEV("button",{onClick:()=>x(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create First Post"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:363,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:356,columnNumber:11},void 0):l.map(f=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border",children:[e.jsxDEV("div",{className:"p-6 pb-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:f.author.avatar_url?e.jsxDEV("img",{src:f.author.avatar_url,alt:"",className:"w-10 h-10 rounded-full object-cover"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:380,columnNumber:25},void 0):e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:f.author.display_name?.[0]?.toUpperCase()},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:386,columnNumber:25},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:378,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("h3",{className:"font-medium text-gray-900",children:f.author.display_name},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:394,columnNumber:25},void 0),Ne(f.visibility)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:393,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsxDEV("span",{children:ne(f.created_at)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:398,columnNumber:25},void 0),f.author.house&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{children:"•"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:401,columnNumber:29},void 0),e.jsxDEV("span",{children:f.author.house.name},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:402,columnNumber:29},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:400,columnNumber:27},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:397,columnNumber:23},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:392,columnNumber:21},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:377,columnNumber:19},void 0),e.jsxDEV("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(Mr,{size:20},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:410,columnNumber:21},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:409,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:376,columnNumber:17},void 0),f.content&&e.jsxDEV("p",{className:"text-gray-900 mb-4 whitespace-pre-wrap",children:f.content},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:416,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:375,columnNumber:15},void 0),f.media_urls&&f.media_urls.length>0&&e.jsxDEV("div",{className:"px-6 pb-4",children:e.jsxDEV("div",{className:`grid gap-2 ${f.media_urls.length===1?"grid-cols-1":(f.media_urls.length===2,"grid-cols-2")}`,children:f.media_urls.slice(0,4).map((h,i)=>e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("img",{src:h,alt:"",className:"w-full h-48 object-cover rounded-lg cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(h,"_blank")},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:430,columnNumber:25},void 0),i===3&&f.media_urls.length>4&&e.jsxDEV("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center",children:e.jsxDEV("span",{className:"text-white text-lg font-medium",children:["+",f.media_urls.length-4," more"]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:438,columnNumber:29},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:437,columnNumber:27},void 0)]},i,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:429,columnNumber:23},void 0))},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:423,columnNumber:19},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:422,columnNumber:17},void 0),e.jsxDEV("div",{className:"px-6 py-4 border-t border-gray-100",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:e.jsxDEV("div",{className:"flex items-center space-x-6",children:[e.jsxDEV("button",{onClick:()=>g(f.id),className:`flex items-center space-x-2 transition-colors ${f.user_liked?"text-red-500 hover:text-red-600":"text-gray-600 hover:text-red-500"}`,children:[e.jsxDEV(vo,{size:20,className:f.user_liked?"fill-current":""},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:461,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-sm font-medium",children:f.likes_count},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:465,columnNumber:23},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:453,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>Y(f.id),className:"flex items-center space-x-2 text-gray-600 hover:text-blue-500 transition-colors",children:[e.jsxDEV(xe,{size:20},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:472,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-sm font-medium",children:f.comments_count},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:473,columnNumber:23},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:468,columnNumber:21},void 0),e.jsxDEV("button",{className:"flex items-center space-x-2 text-gray-600 hover:text-green-500 transition-colors",children:[e.jsxDEV(Eo,{size:20},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:477,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-sm font-medium",children:"Share"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:478,columnNumber:23},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:476,columnNumber:21},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:452,columnNumber:19},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:451,columnNumber:17},void 0),R[f.id]&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:a?.avatar_url?e.jsxDEV("img",{src:a.avatar_url,alt:"",className:"w-8 h-8 rounded-full object-cover"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:490,columnNumber:27},void 0):e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:a?.display_name?.[0]?.toUpperCase()},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:496,columnNumber:27},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:488,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1 flex items-center space-x-2",children:[e.jsxDEV("input",{type:"text",placeholder:"Add a comment...",value:d[f.id]||"",onChange:h=>V(i=>({...i,[f.id]:h.target.value})),onKeyPress:h=>{h.key==="Enter"&&U(f.id)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:503,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>U(f.id),disabled:!d[f.id]?.trim(),className:"p-2 text-blue-600 hover:text-blue-700 disabled:text-gray-400 disabled:cursor-not-allowed",children:e.jsxDEV($r,{size:16},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:523,columnNumber:27},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:518,columnNumber:25},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:502,columnNumber:23},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:487,columnNumber:21},void 0),K[f.id]&&K[f.id].length>0&&e.jsxDEV("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:K[f.id].map(h=>e.jsxDEV("div",{className:"flex items-start space-x-3",children:[e.jsxDEV("div",{className:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center",children:h.author.avatar_url?e.jsxDEV("img",{src:h.author.avatar_url,alt:"",className:"w-6 h-6 rounded-full object-cover"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:535,columnNumber:33},void 0):e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:h.author.display_name?.[0]?.toUpperCase()},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:541,columnNumber:33},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:533,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"bg-gray-100 rounded-lg px-3 py-2",children:[e.jsxDEV("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:h.author.display_name},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:550,columnNumber:35},void 0),e.jsxDEV("span",{className:"text-xs text-gray-500",children:ne(h.created_at)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:553,columnNumber:35},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:549,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-sm text-gray-900",children:h.content},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:557,columnNumber:33},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:548,columnNumber:31},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:547,columnNumber:29},void 0)]},h.id,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:532,columnNumber:27},void 0))},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:530,columnNumber:23},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:485,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:450,columnNumber:15},void 0)]},f.id,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:373,columnNumber:13},void 0))},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:354,columnNumber:7},void 0),P&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"Create Post"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:578,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{x(!1),O({content:"",visibility:"public",media:[]}),z([])},className:"text-gray-400 hover:text-gray-600",children:e.jsxDEV(pe,{size:24},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:587,columnNumber:19},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:579,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:577,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:e.jsxDEV("textarea",{value:E.content,onChange:f=>O(h=>({...h,content:f.target.value})),placeholder:"What's happening in the community?",className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:"4"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:594,columnNumber:19},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:593,columnNumber:17},void 0),W.length>0&&e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:W.map((f,h)=>e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("img",{src:URL.createObjectURL(f),alt:"",className:"w-full h-24 object-cover rounded-lg"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:608,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>G(h),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:e.jsxDEV(pe,{size:14},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:617,columnNumber:27},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:613,columnNumber:25},void 0)]},h,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:607,columnNumber:23},void 0))},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:605,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV("input",{ref:se,type:"file",multiple:!0,accept:"image/*",onChange:T,className:"hidden"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:627,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>se.current?.click(),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",disabled:W.length>=5,children:e.jsxDEV(ar,{size:20},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:641,columnNumber:23},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:636,columnNumber:21},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:626,columnNumber:19},void 0),e.jsxDEV("select",{value:E.visibility,onChange:f=>O(h=>({...h,visibility:f.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsxDEV("option",{value:"public",children:"🌍 Public"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:650,columnNumber:21},void 0),e.jsxDEV("option",{value:"members_only",children:"👥 Members Only"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:651,columnNumber:21},void 0),a?.house_id&&e.jsxDEV("option",{value:"house_only",children:"🏠 House Only"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:653,columnNumber:23},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:645,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:625,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex space-x-3 pt-4",children:[e.jsxDEV("button",{onClick:()=>{x(!1),O({content:"",visibility:"public",media:[]}),z([])},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:660,columnNumber:19},void 0),e.jsxDEV("button",{onClick:re,disabled:b||!E.content.trim()&&W.length===0,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?"Posting...":"Post"},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:670,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:659,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:591,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:576,columnNumber:13},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:575,columnNumber:11},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:574,columnNumber:9},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/FeedPage.jsx",lineNumber:299,columnNumber:5},void 0)},ko=()=>{const{userProfile:a,isAdmin:o,supabase:n}=oe(),[l,t]=m.useState([]),[c,s]=m.useState([]),[b,v]=m.useState(!0),[P,x]=m.useState(!1),[y,j]=m.useState(""),[E,O]=m.useState(""),[W,z]=m.useState(!1),[d,V]=m.useState({title:"",category:"",accessLevel:"Member",tags:"",file:null}),R=async()=>{try{const g=(await n.auth.getSession()).data.session?.access_token,w=new URLSearchParams;y&&w.append("search",y),E&&w.append("category",E);const U=await fetch(`/api/documents?${w}`,{headers:{Authorization:`Bearer ${g}`}});if(!U.ok)throw new Error("Failed to fetch documents");const T=await U.json();t(T.documents)}catch(g){console.error("Error fetching documents:",g),M.error("Failed to load documents")}},$=async()=>{try{const g=(await n.auth.getSession()).data.session?.access_token,w=await fetch("/api/documents/categories",{headers:{Authorization:`Bearer ${g}`}});if(!w.ok)throw new Error("Failed to fetch categories");const U=await w.json();s(U.categories)}catch(g){console.error("Error fetching categories:",g)}};m.useEffect(()=>{(async()=>{v(!0),await Promise.all([R(),$()]),v(!1)})()},[y,E]);const K=async g=>{if(g.preventDefault(),!d.file||!d.title||!d.category){M.error("Please fill in all required fields");return}x(!0);try{const w=new FormData;w.append("file",d.file),w.append("title",d.title),w.append("category",d.category),w.append("accessLevel",d.accessLevel),w.append("tags",d.tags);const U=(await n.auth.getSession()).data.session?.access_token,T=await fetch("/api/documents/upload",{method:"POST",headers:{Authorization:`Bearer ${U}`},body:w});if(!T.ok){const G=await T.json();throw new Error(G.error||"Upload failed")}M.success("Document uploaded successfully!"),z(!1),V({title:"",category:"",accessLevel:"Member",tags:"",file:null}),await R()}catch(w){console.error("Upload error:",w),M.error(w.message)}finally{x(!1)}},Q=async(g,w)=>{try{const U=(await n.auth.getSession()).data.session?.access_token,T=await fetch(`/api/documents/${g}/download`,{headers:{Authorization:`Bearer ${U}`}});if(!T.ok){const ne=await T.json();throw new Error(ne.error||"Download failed")}const G=await T.json(),Y=document.createElement("a");Y.href=G.downloadUrl,Y.download=w,Y.target="_blank",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),M.success("Download started")}catch(U){console.error("Download error:",U),M.error(U.message)}},se=g=>g.startsWith("image/")?e.jsxDEV(ar,{className:"w-6 h-6 text-blue-500"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:180,columnNumber:14},void 0):g==="application/pdf"?e.jsxDEV(Ee,{className:"w-6 h-6 text-red-500"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:182,columnNumber:14},void 0):e.jsxDEV(Qe,{className:"w-6 h-6 text-gray-500"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:184,columnNumber:12},void 0),X=g=>{if(g===0)return"0 Bytes";const w=1024,U=["Bytes","KB","MB","GB"],T=Math.floor(Math.log(g)/Math.log(w));return parseFloat((g/Math.pow(w,T)).toFixed(2))+" "+U[T]},re=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return b?e.jsxDEV(de,{text:"Loading documents..."},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:206,columnNumber:12},void 0):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:"Document Library"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:214,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-600 mt-2",children:"Access community resources, guides, and important documents"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:215,columnNumber:11},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:213,columnNumber:9},void 0),o()&&e.jsxDEV("button",{onClick:()=>z(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsxDEV(or,{size:16},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:225,columnNumber:13},void 0),e.jsxDEV("span",{children:"Upload Document"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:226,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:221,columnNumber:11},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:212,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:e.jsxDEV("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:237,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",placeholder:"Search documents...",value:y,onChange:g=>j(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:238,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:236,columnNumber:13},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:235,columnNumber:11},void 0),e.jsxDEV("div",{className:"md:w-48",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(ho,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:251,columnNumber:15},void 0),e.jsxDEV("select",{value:E,onChange:g=>O(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[e.jsxDEV("option",{value:"",children:"All Categories"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:257,columnNumber:17},void 0),c.map(g=>e.jsxDEV("option",{value:g,children:g},g,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:259,columnNumber:19},void 0))]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:252,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:250,columnNumber:13},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:249,columnNumber:11},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:233,columnNumber:9},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:232,columnNumber:7},void 0),l.length===0?e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV(Ee,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:270,columnNumber:11},void 0),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No documents found"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:271,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-600",children:y||E?"Try adjusting your search or filter criteria":"No documents have been uploaded yet"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:272,columnNumber:11},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:269,columnNumber:9},void 0):e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(g=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-start space-x-3 mb-4",children:[se(g.file_type),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 truncate",children:g.title},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:287,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600",children:g.category},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:290,columnNumber:21},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:286,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:284,columnNumber:17},void 0),g.tags&&g.tags.length>0&&e.jsxDEV("div",{className:"flex flex-wrap gap-1 mb-4",children:[g.tags.slice(0,3).map(w=>e.jsxDEV("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:w},w,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:298,columnNumber:23},void 0)),g.tags.length>3&&e.jsxDEV("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:["+",g.tags.length-3," more"]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:306,columnNumber:23},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:296,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(sr,{size:14},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:316,columnNumber:21},void 0),e.jsxDEV("span",{children:g.uploader.display_name},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:317,columnNumber:21},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:315,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(go,{size:14},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:320,columnNumber:21},void 0),e.jsxDEV("span",{children:re(g.created_at)},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:321,columnNumber:21},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:319,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:X(g.file_size)},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:324,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:g.access_level},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:325,columnNumber:21},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:323,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:314,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV("button",{onClick:()=>Q(g.id,g.title),className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsxDEV(bo,{size:16},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:337,columnNumber:21},void 0),e.jsxDEV("span",{children:"Download"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:338,columnNumber:21},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:333,columnNumber:19},void 0),g.file_type.startsWith("image/")&&e.jsxDEV("button",{onClick:()=>window.open(g.file_url,"_blank"),className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:e.jsxDEV(xo,{size:16},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:346,columnNumber:23},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:342,columnNumber:21},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:332,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:283,columnNumber:15},void 0)},g.id,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:282,columnNumber:13},void 0))},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:280,columnNumber:9},void 0),W&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"Upload Document"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:362,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsxDEV(pe,{size:24},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:367,columnNumber:19},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:363,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:361,columnNumber:15},void 0),e.jsxDEV("form",{onSubmit:K,className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File *"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:373,columnNumber:19},void 0),e.jsxDEV("input",{type:"file",accept:".pdf,image/*",onChange:g=>V(w=>({...w,file:g.target.files[0]})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:376,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: PDF, Images (JPG, PNG, etc.) • Max size: 10MB"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:383,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:372,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:389,columnNumber:19},void 0),e.jsxDEV("input",{type:"text",value:d.title,onChange:g=>V(w=>({...w,title:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Document title",required:!0},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:392,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:388,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:403,columnNumber:19},void 0),e.jsxDEV("select",{value:d.category,onChange:g=>V(w=>({...w,category:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsxDEV("option",{value:"",children:"Select category"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:412,columnNumber:21},void 0),e.jsxDEV("option",{value:"Guidelines",children:"Guidelines"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:413,columnNumber:21},void 0),e.jsxDEV("option",{value:"Resources",children:"Resources"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:414,columnNumber:21},void 0),e.jsxDEV("option",{value:"Forms",children:"Forms"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:415,columnNumber:21},void 0),e.jsxDEV("option",{value:"Events",children:"Events"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:416,columnNumber:21},void 0),e.jsxDEV("option",{value:"Training",children:"Training"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:417,columnNumber:21},void 0),e.jsxDEV("option",{value:"Other",children:"Other"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:418,columnNumber:21},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:406,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:402,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Access Level"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:423,columnNumber:19},void 0),e.jsxDEV("select",{value:d.accessLevel,onChange:g=>V(w=>({...w,accessLevel:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsxDEV("option",{value:"Member",children:"Members"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:431,columnNumber:21},void 0),e.jsxDEV("option",{value:"Leader",children:"Leaders & Admins"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:432,columnNumber:21},void 0),e.jsxDEV("option",{value:"Admin",children:"Admins Only"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:433,columnNumber:21},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:426,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:422,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (Optional)"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:438,columnNumber:19},void 0),e.jsxDEV("input",{type:"text",value:d.tags,onChange:g=>V(w=>({...w,tags:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Comma-separated tags"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:441,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:437,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex space-x-3 pt-4",children:[e.jsxDEV("button",{type:"button",onClick:()=>z(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:451,columnNumber:19},void 0),e.jsxDEV("button",{type:"submit",disabled:P,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:P?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:465,columnNumber:25},void 0),e.jsxDEV("span",{children:"Uploading..."},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:466,columnNumber:25},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:464,columnNumber:23},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Po,{size:16},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:470,columnNumber:25},void 0),e.jsxDEV("span",{children:"Upload"},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:471,columnNumber:25},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:469,columnNumber:23},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:458,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:450,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:371,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:360,columnNumber:13},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:359,columnNumber:11},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:358,columnNumber:9},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DocsPage.jsx",lineNumber:210,columnNumber:5},void 0)},Ao=()=>{const{userProfile:a,supabase:o}=oe(),[n,l]=m.useState([]),[t,c]=m.useState(null),[s,b]=m.useState([]),[v,P]=m.useState([]),[x,y]=m.useState(!0),[j,E]=m.useState(!1),[O,W]=m.useState(!1),[z,d]=m.useState(!1),[V,R]=m.useState(""),[$,K]=m.useState([]),[Q,se]=m.useState(""),[X,re]=m.useState(null),g=m.useRef(null),w=m.useRef(null),U=async()=>{try{const i=(await o.auth.getSession()).data.session?.access_token,p=await fetch("/api/chat/threads",{headers:{Authorization:`Bearer ${i}`}});if(!p.ok)throw new Error("Failed to fetch threads");const C=await p.json();l(C.threads)}catch(i){console.error("Error fetching threads:",i),M.error("Failed to load conversations")}},T=async i=>{if(i){E(!0);try{const p=(await o.auth.getSession()).data.session?.access_token,C=await fetch(`/api/chat/threads/${i}/messages`,{headers:{Authorization:`Bearer ${p}`}});if(!C.ok)throw new Error("Failed to fetch messages");const _=await C.json();b(_.messages)}catch(p){console.error("Error fetching messages:",p),M.error("Failed to load messages")}finally{E(!1)}}},G=async(i="")=>{try{const p=(await o.auth.getSession()).data.session?.access_token,C=new URLSearchParams;i&&C.append("search",i);const _=await fetch(`/api/users?${C}`,{headers:{Authorization:`Bearer ${p}`}});if(!_.ok)throw new Error("Failed to fetch users");const I=await _.json();P(I.users)}catch(p){console.error("Error fetching users:",p)}},Y=async()=>{if(!(!Q.trim()&&!X||!t||O)){W(!0);try{const i=(await o.auth.getSession()).data.session?.access_token,p=new FormData;Q.trim()&&p.append("content",Q.trim()),X&&(p.append("file",X),p.append("messageType",X.type.startsWith("image/")?"image":"file"));const C=await fetch(`/api/chat/threads/${t.id}/messages`,{method:"POST",headers:{Authorization:`Bearer ${i}`},body:p});if(!C.ok){const I=await C.json();throw new Error(I.error||"Failed to send message")}const _=await C.json();b(I=>[...I,_.message]),se(""),re(null),l(I=>I.map(he=>he.id===t.id?{...he,last_message:_.message,last_message_at:_.message.created_at}:he)),setTimeout(()=>g.current?.scrollIntoView({behavior:"smooth"}),100)}catch(i){console.error("Error sending message:",i),M.error(i.message)}finally{W(!1)}}},ne=async()=>{if($.length!==0)try{const i=(await o.auth.getSession()).data.session?.access_token,p=await fetch("/api/chat/threads",{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({participantIds:$.map(I=>I.id),threadType:$.length>1?"group":"direct",name:$.length>1?$.map(I=>I.display_name).join(", "):null})});if(!p.ok)throw new Error("Failed to create thread");const C=await p.json(),_={...C.thread,other_participants:C.thread.participants.filter(I=>I.id!==a.id),last_message:null,unread_count:0};l(I=>[_,...I]),c(_),d(!1),K([]),R("")}catch(i){console.error("Error creating thread:",i),M.error("Failed to create conversation")}},Ne=i=>{const p=i.target.files[0];if(p){if(p.size>10*1024*1024){M.error("File size must be less than 10MB");return}re(p)}},f=i=>{const p=new Date(i);return new Date-p<1440*60*1e3?p.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):p.toLocaleDateString([],{month:"short",day:"numeric"})},h=i=>i.name?i.name:i.other_participants.length===1?i.other_participants[0].display_name:i.other_participants.map(p=>p.display_name).join(", ");return m.useEffect(()=>{if(!t)return;const i=o.channel(`messages:${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`thread_id=eq.${t.id}`},p=>{p.new.sender_id!==a.id&&(b(C=>[...C,p.new]),setTimeout(()=>g.current?.scrollIntoView({behavior:"smooth"}),100))}).subscribe();return()=>{i.unsubscribe()}},[t,a.id,o]),m.useEffect(()=>{(async()=>{y(!0),await Promise.all([U(),G()]),y(!1)})()},[]),m.useEffect(()=>{t&&T(t.id)},[t]),m.useEffect(()=>{const i=setTimeout(()=>{z&&G(V)},300);return()=>clearTimeout(i)},[V,z]),x?e.jsxDEV(de,{text:"Loading conversations..."},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:299,columnNumber:12},void 0):e.jsxDEV("div",{className:"h-[calc(100vh-8rem)] flex bg-white rounded-lg shadow-sm border overflow-hidden",children:[e.jsxDEV("div",{className:`w-full md:w-80 border-r border-gray-200 flex flex-col ${t?"hidden md:flex":""}`,children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:"Messages"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:309,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>d(!0),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(or,{size:20},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:314,columnNumber:15},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:310,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:308,columnNumber:11},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:307,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:n.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[e.jsxDEV(xe,{className:"w-12 h-12 text-gray-400 mb-4"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:323,columnNumber:15},void 0),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No conversations yet"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:324,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-gray-600 mb-4",children:"Start a conversation with community members"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:325,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Start Chatting"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:326,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:322,columnNumber:13},void 0):n.map(i=>e.jsxDEV("div",{onClick:()=>c(i),className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${t?.id===i.id?"bg-blue-50 border-blue-200":""}`,children:e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:i.other_participants.length===1?i.other_participants[0].avatar_url?e.jsxDEV("img",{src:i.other_participants[0].avatar_url,alt:"",className:"w-10 h-10 rounded-full object-cover"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:346,columnNumber:25},void 0):e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:i.other_participants[0].display_name?.[0]?.toUpperCase()},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:352,columnNumber:25},void 0):e.jsxDEV(ce,{size:16,className:"text-gray-600"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:357,columnNumber:23},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:343,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-gray-900 truncate",children:h(i)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:363,columnNumber:23},void 0),i.last_message&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:f(i.last_message.created_at)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:367,columnNumber:25},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:362,columnNumber:21},void 0),i.last_message&&e.jsxDEV("p",{className:"text-sm text-gray-600 truncate",children:i.last_message.message_type==="image"?"📷 Image":i.last_message.message_type==="file"?"📎 File":i.last_message.content},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:374,columnNumber:23},void 0),i.unread_count>0&&e.jsxDEV("div",{className:"w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center mt-1",children:e.jsxDEV("span",{className:"text-xs text-white font-medium",children:i.unread_count},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:383,columnNumber:25},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:382,columnNumber:23},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:361,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:342,columnNumber:17},void 0)},i.id,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:335,columnNumber:15},void 0))},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:320,columnNumber:9},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:305,columnNumber:7},void 0),e.jsxDEV("div",{className:`flex-1 flex flex-col ${t?"":"hidden md:flex"}`,children:t?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("button",{onClick:()=>c(null),className:"md:hidden p-1 text-gray-600 hover:text-gray-900",children:e.jsxDEV(Tr,{size:20},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:405,columnNumber:19},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:401,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:t.other_participants.length===1?t.other_participants[0].avatar_url?e.jsxDEV("img",{src:t.other_participants[0].avatar_url,alt:"",className:"w-8 h-8 rounded-full object-cover"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:411,columnNumber:23},void 0):e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:t.other_participants[0].display_name?.[0]?.toUpperCase()},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:417,columnNumber:23},void 0):e.jsxDEV(ce,{size:14,className:"text-gray-600"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:422,columnNumber:21},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:408,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-medium text-gray-900",children:h(t)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:427,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600",children:t.other_participants.length===1?"Online":`${t.participants?.length||0} members`},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:430,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:426,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:400,columnNumber:15},void 0),e.jsxDEV("button",{className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(Mr,{size:20},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:437,columnNumber:17},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:436,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:399,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[j?e.jsxDEV("div",{className:"flex justify-center py-8",children:e.jsxDEV(de,{size:"sm",text:"Loading messages..."},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:445,columnNumber:19},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:444,columnNumber:17},void 0):s.length===0?e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(xe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:449,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-600",children:"No messages yet. Start the conversation!"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:450,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:448,columnNumber:17},void 0):s.map(i=>e.jsxDEV("div",{className:`flex ${i.sender_id===a.id?"justify-end":"justify-start"}`,children:e.jsxDEV("div",{className:`max-w-xs lg:max-w-md ${i.sender_id===a.id?"bg-blue-600 text-white rounded-l-lg rounded-tr-lg":"bg-gray-100 text-gray-900 rounded-r-lg rounded-tl-lg"} px-4 py-2`,children:[i.sender_id!==a.id&&t.thread_type==="group"&&e.jsxDEV("p",{className:"text-xs font-medium mb-1 opacity-75",children:i.sender?.display_name},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:464,columnNumber:25},void 0),i.message_type==="image"&&i.file_url&&e.jsxDEV("img",{src:i.file_url,alt:"Shared image",className:"max-w-full h-auto rounded mb-2 cursor-pointer",onClick:()=>window.open(i.file_url,"_blank")},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:470,columnNumber:25},void 0),i.message_type==="file"&&i.file_url&&e.jsxDEV("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxDEV(Qe,{size:16},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:480,columnNumber:27},void 0),e.jsxDEV("a",{href:i.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm underline",children:"Download File"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:481,columnNumber:27},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:479,columnNumber:25},void 0),i.content&&e.jsxDEV("p",{className:"text-sm",children:i.content},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:493,columnNumber:25},void 0),e.jsxDEV("p",{className:`text-xs mt-1 ${i.sender_id===a.id?"text-blue-100":"text-gray-500"}`,children:f(i.created_at)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:496,columnNumber:23},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:458,columnNumber:21},void 0)},i.id,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:454,columnNumber:19},void 0)),e.jsxDEV("div",{ref:g},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:505,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:442,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 border-t border-gray-200",children:[X&&e.jsxDEV("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[X.type.startsWith("image/")?e.jsxDEV(ar,{size:16,className:"text-gray-600"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:514,columnNumber:23},void 0):e.jsxDEV(Qe,{size:16,className:"text-gray-600"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:516,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-sm text-gray-700",children:X.name},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:518,columnNumber:21},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:512,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>re(null),className:"text-gray-400 hover:text-gray-600",children:e.jsxDEV(pe,{size:16},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:524,columnNumber:21},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:520,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:511,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-end space-x-2",children:[e.jsxDEV("div",{className:"flex-1 relative",children:e.jsxDEV("textarea",{value:Q,onChange:i=>se(i.target.value),onKeyPress:i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),Y())},placeholder:"Type a message...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:"1",style:{minHeight:"40px",maxHeight:"120px"}},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:531,columnNumber:19},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:530,columnNumber:17},void 0),e.jsxDEV("input",{ref:w,type:"file",onChange:Ne,accept:"image/*,.pdf,.doc,.docx,.txt",className:"hidden"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:547,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>w.current?.click(),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(Do,{size:20},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:559,columnNumber:19},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:555,columnNumber:17},void 0),e.jsxDEV("button",{onClick:Y,disabled:O||!Q.trim()&&!X,className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsxDEV($r,{size:20},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:567,columnNumber:19},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:562,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:529,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:509,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:397,columnNumber:11},void 0):e.jsxDEV("div",{className:"flex-1 flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(xe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:575,columnNumber:15},void 0),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a conversation"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:576,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-gray-600",children:"Choose a conversation from the sidebar to start messaging"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:577,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:574,columnNumber:13},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:573,columnNumber:11},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:395,columnNumber:7},void 0),z&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[80vh] overflow-hidden",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"New Conversation"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:589,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{d(!1),K([]),R("")},className:"text-gray-400 hover:text-gray-600",children:e.jsxDEV(pe,{size:24},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:598,columnNumber:19},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:590,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:588,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:605,columnNumber:19},void 0),e.jsxDEV("input",{type:"text",placeholder:"Search members...",value:V,onChange:i=>R(i.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:606,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:604,columnNumber:17},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:603,columnNumber:15},void 0),$.length>0&&e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:$.map(i=>e.jsxDEV("div",{className:"flex items-center space-x-2 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[e.jsxDEV("span",{children:i.display_name},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:625,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>K(p=>p.filter(C=>C.id!==i.id)),className:"text-blue-600 hover:text-blue-800",children:e.jsxDEV(pe,{size:14},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:630,columnNumber:27},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:626,columnNumber:25},void 0)]},i.id,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:621,columnNumber:23},void 0))},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:619,columnNumber:19},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:618,columnNumber:17},void 0),e.jsxDEV("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg",children:[v.filter(i=>!$.some(p=>p.id===i.id)).map(i=>e.jsxDEV("div",{onClick:()=>K(p=>[...p,i]),className:"p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:i.avatar_url?e.jsxDEV("img",{src:i.avatar_url,alt:"",className:"w-8 h-8 rounded-full object-cover"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:649,columnNumber:27},void 0):e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:i.display_name?.[0]?.toUpperCase()},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:655,columnNumber:27},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:647,columnNumber:23},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:i.display_name},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:661,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600",children:[i.role," ",i.house?.name&&`• ${i.house.name}`]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:662,columnNumber:25},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:660,columnNumber:23},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:646,columnNumber:21},void 0)},i.id,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:641,columnNumber:19},void 0)),v.length===0&&e.jsxDEV("div",{className:"p-8 text-center text-gray-600",children:[e.jsxDEV(ce,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:672,columnNumber:21},void 0),e.jsxDEV("p",{children:"No members found"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:673,columnNumber:21},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:671,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:639,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex space-x-3 pt-6",children:[e.jsxDEV("button",{onClick:()=>{d(!1),K([]),R("")},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:680,columnNumber:17},void 0),e.jsxDEV("button",{onClick:ne,disabled:$.length===0,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Start Chat"},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:690,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:679,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:587,columnNumber:13},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:586,columnNumber:11},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:585,columnNumber:9},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/ChatPage.jsx",lineNumber:303,columnNumber:5},void 0)},_o=()=>{const{userProfile:a}=oe();return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:12,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-gray-600 mt-2",children:"Manage the community, review applications, and monitor platform health"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:13,columnNumber:9},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:11,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsxDEV(ce,{className:"w-6 h-6 text-blue-600"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:23,columnNumber:15},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:22,columnNumber:13},void 0),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:26,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:"0"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:27,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:25,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:21,columnNumber:11},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:20,columnNumber:9},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsxDEV(Pr,{className:"w-6 h-6 text-yellow-600"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:35,columnNumber:15},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:34,columnNumber:13},void 0),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Pending Applications"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:38,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:"0"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:39,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:37,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:33,columnNumber:11},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:32,columnNumber:9},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsxDEV(Ee,{className:"w-6 h-6 text-green-600"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:47,columnNumber:15},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:46,columnNumber:13},void 0),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Documents"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:50,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:"0"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:51,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:49,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:45,columnNumber:11},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:44,columnNumber:9},void 0),e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsxDEV(yr,{className:"w-6 h-6 text-purple-600"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:59,columnNumber:15},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:58,columnNumber:13},void 0),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-600",children:"Activity Score"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:62,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:"100%"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:63,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:61,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:57,columnNumber:11},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:56,columnNumber:9},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:19,columnNumber:7},void 0),e.jsxDEV("div",{className:"text-center py-20 bg-white rounded-lg shadow-sm border",children:[e.jsxDEV("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsxDEV(er,{className:"w-10 h-10 text-gray-400"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:72,columnNumber:11},void 0)},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:71,columnNumber:9},void 0),e.jsxDEV("h3",{className:"text-xl font-medium text-gray-900 mb-3",children:"Advanced Admin Tools Coming Soon!"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:74,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-gray-600 max-w-lg mx-auto",children:"We're building comprehensive admin tools including application reviews, user management, analytics dashboard, and community moderation features."},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:75,columnNumber:9},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8 max-w-2xl mx-auto text-sm text-gray-500",children:[e.jsxDEV("div",{className:"flex flex-col items-center space-y-2",children:[e.jsxDEV(ce,{size:20},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:81,columnNumber:13},void 0),e.jsxDEV("span",{children:"User Management"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:82,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:80,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col items-center space-y-2",children:[e.jsxDEV(Pr,{size:20},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:85,columnNumber:13},void 0),e.jsxDEV("span",{children:"Application Reviews"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:86,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:84,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col items-center space-y-2",children:[e.jsxDEV(yr,{size:20},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:89,columnNumber:13},void 0),e.jsxDEV("span",{children:"Analytics"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:90,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:88,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col items-center space-y-2",children:[e.jsxDEV(er,{size:20},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:93,columnNumber:13},void 0),e.jsxDEV("span",{children:"Moderation Tools"},void 0,!1,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:94,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:92,columnNumber:11},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:79,columnNumber:9},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:70,columnNumber:7},void 0)]},void 0,!0,{fileName:"/root/repo/src/pages/DashboardPage.jsx",lineNumber:9,columnNumber:5},void 0)},Fo=()=>{const{userProfile:a,signOut:o,isAdmin:n,isMemberOrAbove:l}=oe(),t=fa(),[c,s]=m.useState(!1),v=[{path:"/",label:"Feed",icon:Or,roles:["Member","Leader","Admin"]},{path:"/docs",label:"Documents",icon:Ee,roles:["Member","Leader","Admin"]},{path:"/chat",label:"Chat",icon:xe,roles:["Member","Leader","Admin"]},{path:"/dashboard",label:"Dashboard",icon:er,roles:["Admin"]}].filter(j=>j.roles.includes(a?.role)),P=async()=>{await o()},x=()=>{s(!c)},y=j=>{switch(j){case"Admin":return"bg-red-100 text-red-800";case"Leader":return"bg-purple-100 text-purple-800";case"Member":return"bg-green-100 text-green-800";case"Applicant":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxDEV("nav",{className:"bg-white shadow-lg border-b border-gray-200",children:e.jsxDEV("div",{className:"container mx-auto px-4",children:[e.jsxDEV("div",{className:"flex justify-between items-center h-16",children:[e.jsxDEV("div",{className:"flex items-center space-x-4",children:e.jsxDEV(We,{to:"/",className:"text-2xl font-bold text-gray-900",children:"Haus of Basquiat"},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:75,columnNumber:13},void 0)},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:74,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden md:flex items-center space-x-8",children:v.map(j=>{const E=j.icon,O=t.pathname===j.path;return e.jsxDEV(We,{to:j.path,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${O?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[e.jsxDEV(E,{size:18},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:96,columnNumber:19},void 0),e.jsxDEV("span",{children:j.label},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:97,columnNumber:19},void 0)]},j.path,!0,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:87,columnNumber:17},void 0)})},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:81,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:a?.display_name||"User"},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:107,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y(a?.role)}`,children:a?.role},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:111,columnNumber:19},void 0),a?.house&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:a.house.name},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:115,columnNumber:21},void 0)]},void 0,!0,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:110,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:106,columnNumber:15},void 0),e.jsxDEV("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:a?.avatar_url?e.jsxDEV("img",{src:a.avatar_url,alt:"Profile",className:"w-8 h-8 rounded-full object-cover"},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:123,columnNumber:19},void 0):e.jsxDEV(sr,{size:16,className:"text-gray-600"},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:129,columnNumber:19},void 0)},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:121,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:105,columnNumber:13},void 0),e.jsxDEV("button",{onClick:P,className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:[e.jsxDEV(Er,{size:16},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:138,columnNumber:15},void 0),e.jsxDEV("span",{children:"Sign Out"},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:139,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:134,columnNumber:13},void 0)]},void 0,!0,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:104,columnNumber:11},void 0),e.jsxDEV("div",{className:"md:hidden",children:e.jsxDEV("button",{onClick:x,className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:c?e.jsxDEV(pe,{size:24},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:149,columnNumber:35},void 0):e.jsxDEV(yo,{size:24},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:149,columnNumber:53},void 0)},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:145,columnNumber:13},void 0)},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:144,columnNumber:11},void 0)]},void 0,!0,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:72,columnNumber:9},void 0),c&&e.jsxDEV("div",{className:"md:hidden py-4 border-t border-gray-200",children:e.jsxDEV("div",{className:"flex flex-col space-y-2",children:[v.map(j=>{const E=j.icon,O=t.pathname===j.path;return e.jsxDEV(We,{to:j.path,onClick:()=>s(!1),className:`flex items-center space-x-3 px-3 py-2 rounded-md text-base font-medium transition-colors ${O?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[e.jsxDEV(E,{size:20},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:173,columnNumber:21},void 0),e.jsxDEV("span",{children:j.label},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:174,columnNumber:21},void 0)]},j.path,!0,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:163,columnNumber:19},void 0)}),e.jsxDEV("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxDEV("div",{className:"px-3 py-2",children:[e.jsxDEV("p",{className:"text-base font-medium text-gray-900",children:a?.display_name||"User"},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:181,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y(a?.role)}`,children:a?.role},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:185,columnNumber:21},void 0),a?.house&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:a.house.name},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:189,columnNumber:23},void 0)]},void 0,!0,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:184,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:180,columnNumber:17},void 0),e.jsxDEV("button",{onClick:P,className:"flex items-center space-x-3 px-3 py-2 text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors w-full",children:[e.jsxDEV(Er,{size:20},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:200,columnNumber:19},void 0),e.jsxDEV("span",{children:"Sign Out"},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:201,columnNumber:19},void 0)]},void 0,!0,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:196,columnNumber:17},void 0)]},void 0,!0,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:179,columnNumber:15},void 0)]},void 0,!0,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:157,columnNumber:13},void 0)},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:156,columnNumber:11},void 0)]},void 0,!0,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:71,columnNumber:7},void 0)},void 0,!1,{fileName:"/root/repo/src/components/Navigation.jsx",lineNumber:70,columnNumber:5},void 0)},So=()=>{const a=Vr(),{supabase:o}=oe();return m.useEffect(()=>{(async()=>{try{const{data:l,error:t}=await o.auth.getSession();if(t){console.error("Auth callback error:",t),a("/login?error=auth_callback_failed");return}l.session?a("/",{replace:!0}):a("/login",{replace:!0})}catch(l){console.error("Auth callback error:",l),a("/login?error=unexpected_error")}})()},[a,o.auth]),e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(de,{size:"lg",text:"Completing sign in..."},void 0,!1,{fileName:"/root/repo/src/components/AuthCallback.jsx",lineNumber:40,columnNumber:9},void 0),e.jsxDEV("p",{className:"mt-4 text-gray-600",children:"Please wait while we complete your authentication."},void 0,!1,{fileName:"/root/repo/src/components/AuthCallback.jsx",lineNumber:41,columnNumber:9},void 0)]},void 0,!0,{fileName:"/root/repo/src/components/AuthCallback.jsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"/root/repo/src/components/AuthCallback.jsx",lineNumber:38,columnNumber:5},void 0)};function ye({children:a,roles:o,requiresApproval:n=!1}){const{user:l,userProfile:t,loading:c,initializing:s}=oe();return c||s?e.jsxDEV(de,{},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:23,columnNumber:12},this):l?t?t.role==="Applicant"&&t.status==="pending"&&n?e.jsxDEV(De,{to:"/apply",replace:!0},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:36,columnNumber:12},this):o&&!o.includes(t.role)?e.jsxDEV(De,{to:"/",replace:!0},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:41,columnNumber:12},this):e.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[e.jsxDEV(Fo,{},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:46,columnNumber:7},this),e.jsxDEV("main",{className:"container mx-auto px-4 py-8",children:a},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:47,columnNumber:7},this)]},void 0,!0,{fileName:"/root/repo/src/App.jsx",lineNumber:45,columnNumber:5},this):e.jsxDEV(de,{},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:31,columnNumber:12},this):e.jsxDEV(De,{to:"/login",replace:!0},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:27,columnNumber:12},this)}function Ro({children:a}){const{user:o,loading:n,initializing:l}=oe();return n||l?e.jsxDEV(de,{},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:58,columnNumber:12},this):o?e.jsxDEV(De,{to:"/",replace:!0},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:62,columnNumber:12},this):a}function Lo(){return e.jsxDEV(Na,{children:[e.jsxDEV(le,{path:"/login",element:e.jsxDEV(Ro,{children:e.jsxDEV(Vo,{},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:76,columnNumber:13},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:75,columnNumber:11},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:72,columnNumber:7},this),e.jsxDEV(le,{path:"/auth/callback",element:e.jsxDEV(So,{},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:80,columnNumber:45},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:80,columnNumber:7},this),e.jsxDEV(le,{path:"/apply",element:e.jsxDEV(ye,{roles:["Applicant"],children:e.jsxDEV(wo,{},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:87,columnNumber:13},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:86,columnNumber:11},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:83,columnNumber:7},this),e.jsxDEV(le,{path:"/",element:e.jsxDEV(ye,{roles:["Member","Leader","Admin"],children:e.jsxDEV(Co,{},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:97,columnNumber:13},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:96,columnNumber:11},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:93,columnNumber:7},this),e.jsxDEV(le,{path:"/docs",element:e.jsxDEV(ye,{roles:["Member","Leader","Admin"],children:e.jsxDEV(ko,{},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:105,columnNumber:13},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:104,columnNumber:11},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:101,columnNumber:7},this),e.jsxDEV(le,{path:"/chat",element:e.jsxDEV(ye,{roles:["Member","Leader","Admin"],children:e.jsxDEV(Ao,{},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:113,columnNumber:13},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:112,columnNumber:11},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:109,columnNumber:7},this),e.jsxDEV(le,{path:"/dashboard",element:e.jsxDEV(ye,{roles:["Admin"],children:e.jsxDEV(_o,{},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:121,columnNumber:13},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:120,columnNumber:11},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:117,columnNumber:7},this),e.jsxDEV(le,{path:"*",element:e.jsxDEV(De,{to:"/",replace:!0},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:127,columnNumber:32},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:127,columnNumber:7},this)]},void 0,!0,{fileName:"/root/repo/src/App.jsx",lineNumber:70,columnNumber:5},this)}function To(){return e.jsxDEV(mo,{children:e.jsxDEV(pa,{children:e.jsxDEV("div",{className:"App",children:[e.jsxDEV(Lo,{},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:137,columnNumber:11},this),e.jsxDEV(co,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:138,columnNumber:11},this)]},void 0,!0,{fileName:"/root/repo/src/App.jsx",lineNumber:136,columnNumber:9},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:135,columnNumber:7},this)},void 0,!1,{fileName:"/root/repo/src/App.jsx",lineNumber:134,columnNumber:5},this)}ya.createRoot(document.getElementById("root")).render(e.jsxDEV(ga.StrictMode,{children:e.jsxDEV(To,{},void 0,!1,{fileName:"/root/repo/src/main.jsx",lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:"/root/repo/src/main.jsx",lineNumber:7,columnNumber:3},void 0));
//# sourceMappingURL=index-DXGdK5UN.js.map
